doctype html
html(lang="en")
  head

    block headTitle
      title Transmission Line Detection

    block headcontent
      header
        h1.bold(style={color: 'black', background: 'grey'}) Data Visualization
        p.bold.align-top=`${results}`
        script(src="https://code.jquery.com/jquery-3.4.0.min.js", integrity="sha256-BJeo0qm959uMBGb65z40ejJYGSgR7REI4+CW1fNKwOg=", crossorigin="anonymous")
        script.
          function handleData (data, state) {
            if (state === 'error') console.log(data)
            if(state === 'success') {
              console.log(data)
              // if(data.alarms.length > 0) $('#navbar').addClass('alarm-navbar')
              // else $('#navbar').removeClass('alarm-navbar')
              // var alarms = data.alarms.map(o => {
              //   return `signal-light-${o}`
              // })
              // // console.log(alarms)
              // $('.signal-light').each((ind, o) => {
              //   if(alarms.indexOf(o.id) > -1) $(o).find('.signal-background').addClass('alarm')
              //   else $(o).find('.signal-background').removeClass('alarm')
              //   // if(data.mean[ind] != )
              //   $(o).find('.mean').text(parseInt(data.mean[ind]))
              // })
            } 
          }

          function poll (cb = null) {
            if(cb == null) cb = () => null
            $.ajax({
              type: "POST",
              url: '/getdata',
              data: {info: true},
              success: cb,
              dataType: "json"
            })
          }


    //  
    // meta tags
    //
    block metaResponsive
      meta(charset='utf-8')
      meta(http-equiv='X-UA-Compatible', content='IE=edge')
      meta(name='description', content='')
      meta(name='viewport', content='width=device-width, initial-scale=1')
    //
    // icons
    //
    block metaIcons
      link(rel='shortcut icon', href='/favicon.ico')
      link(rel='apple-touch-icon-precomposed', sizes='57x57', href='/images/icons/apple-touch-icon-57.png')
      link(rel='apple-touch-icon-precomposed', sizes='114x114', href='/images/icons/apple-touch-icon-114.png')
      link(rel='apple-touch-icon-precomposed', sizes='72x72', href='/images/icons/apple-touch-icon-72.png')
      link(rel='apple-touch-icon-precomposed', sizes='144x144', href='/images/icons/apple-touch-icon-144.png')
      link(rel='apple-touch-icon-precomposed', sizes='60x60', href='/images/icons/apple-touch-icon-60.png')
      link(rel='apple-touch-icon-precomposed', sizes='120x120', href='/images/icons/apple-touch-icon-120.png')
      link(rel='apple-touch-icon-precomposed', sizes='76x76', href='/images/icons/apple-touch-icon-76.png')
      link(rel='apple-touch-icon-precomposed', sizes='152x152', href='/images/icons/apple-touch-icon-152.png')
      link(rel='icon', type='image/png', href='/images/icons/favicon-196.png', sizes='196x196')
      link(rel='icon', type='image/png', href='/images/icons/favicon-96.png', sizes='96x96')
      link(rel='icon', type='image/png', href='/images/icons/favicon-32.png', sizes='32x32')
      link(rel='icon', type='image/png', href='/images/icons/favicon-16.png', sizes='16x16')
      link(rel='icon', type='image/png', href='/images/icons/favicon-128.png', sizes='128x128')
    //
    // application meta tags
    //
    block metaApplication
      meta(name='application-name', content='Â ')
      meta(name='msapplication-TileColor', content='#FFFFFF')
      // 144x144
      meta(name='msapplication-TileImage', content='/images/icons/ms-app-image-144.png')
      // 70x70
      meta(name='msapplication-square70x70logo', content='/images/icons/ms-app-image-70.png')
      // 150x150
      meta(name='msapplication-square150x150logo', content='/images/icons/ms-app-image-150.png')
      // 310x150
      meta(name='msapplication-wide310x150logo', content='/images/icons/ms-app-image-310-150.png')
      // 310x310
      meta(name='msapplication-square310x310logo', content='/images/icons/ms-app-image-310.png')
    //
    // sharing meta tags
    block twitterTags
      // Twitter
      meta(name='twitter:card', content='summary_large_image')
      meta(name='twitter:site', content='')
      meta(name='twitter:title', content='')
      meta(name='twitter:description', content='')
      meta(name='twitter:creator', content='')
      meta(name='twitter:image:src', content='/images/sharing/meta_image.png')
      meta(name='twitter:domain', content='')
      meta(name='twitter:app:name:iphone', content='')
      meta(name='twitter:app:name:ipad', content='')
      meta(name='twitter:app:name:googleplay', content='')
      meta(name='twitter:app:url:iphone', content='')
      meta(name='twitter:app:url:ipad', content='')
      meta(name='twitter:app:url:googleplay', content='')
      meta(name='twitter:app:id:iphone', content='')
      meta(name='twitter:app:id:ipad', content='')
      meta(name='twitter:app:id:googleplay', content='')
    block facebookTags
      // Facebook
      meta(property='og:title', content='')
      meta(property='og:description', content='')
      meta(property='og:type', content='product')
      meta(property='og:image', content='/images/sharing/meta_image.png')
    //
    // fonts
    //
    block fontFiles
      // Roboto Google Font
      link(rel='stylesheet', href='//fonts.googleapis.com/css?family=Roboto:100,300,700')
    //
    // css
    //
    block externalCSS
      // NormalizeCSS
      link(rel='stylesheet', href='//cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css')
      // bootstrap 4
      link(rel='stylesheet', href='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css', integrity='sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ', crossorigin='anonymous')
      // local load scripts (replace ^^ with these if you dont have a network connection)
      //
        link(rel='stylesheet', href='/fonts/fonts.css')
        link(rel='stylesheet', href='/css/vendor/normalize.min.css')
        link(rel='stylesheet', href='/css/vendor/bootstrap.min.css')
    block localCSS
      // local css
      // preloaded CSS to reduce FOUC
      link(rel='prefetch alternate stylesheet', href='/css/prefetch.css')
      // main page CSS
      link(rel='stylesheet', href='/css/main.css')
  body

    //- style.
    //-   dt.bold {
    //-     font-size: 19px,
    //-     color: '#255255255',
    //-   }

    
    block header
      //#section
      //- nav(style={float: 'left', width: '100%', height: '25px', background: 'white.align-top.text-nowrap', padding: '20px'})
      div.p-4.bg-secondary
        div.group-all.container.container-fluid.p-4.border
          div.row.justify-content-between.top-buffer.mr-0.ml-0.bg-secondary
            div.col.col-3(style={float: 'left', height: '80px', background: 'lightblue', padding: '20px'})
              p1.bold.align-top=`Current state:` 
              p1.bold.display-value.ml-5=`${values.state}`
            // div(style={float: 'left', width: '5%', height: '300px', background: 'white.align-top.text-nowrap', padding: '20px'})    
            div.col.col-3.ml-0.mr-0(style={float: 'left', height: '80px', background: '#006785', padding: '20px'}) 
              p1.bold.text-white.align-top.text-nowrap=`Current produced units:` 
              p1.bold.text-white.display-value.ml-5=`${values.current_pu}`
            // div(style={float: 'left', width: '5%', height: '300px', background: 'white.align-top.text-nowrap', padding: '20px'})
            div.col.col-3.ml-0.mr-0(style={float: 'left', height: '80px', background: '#006785', padding: '20px'})
              p1.bold.text-white.align-top.text-nowrap=`Target produced Units:` 
              p1.bold.text-white.display-value.ml-5=`${values.target_pu}`          
              // div(style={float: 'left', width: '100%', height: '25px', background: 'white', padding: '20px'})
            //div(style={float: 'left', width: '100%', height: '4px', background: 'white', padding: '20px'})
          //div.row
            //div.col.col-12(style={float: 'left', width: '100%', height: '12px', background: 'lightgrey', padding: '20px'})
          div.row.justify-content-around.top-buffer.mr-o.ml-0.bg-secondary
            div.col.col-3.mr-0.ml-0(style={float: 'left', width: '30%', height: '120px', background: '#006785', padding: '20px'})
              dt.bold.text-white.align-top.text-nowrap=`Current running daily avg. tact time per units:` 
              dt.bold.text-white.display-value.text-center.mt-2=`${values.daily_avg}`
            // div(style={float: 'left', width: '12%', height: '300px', background: 'white', padding: '20px'})
            div.col.col-3.mr-0.ml-0(style={float: 'left', width: '30%', height: '120px', background: '#006785', padding: '20px'})
              dt.bold.text-white.align-top.text-nowrap=`Target avg. tact time per units:` 
              dt.bold.text-white.display-value.text-center.mt-2=`${values.target_avg}`
          // div(style={float: 'left', width: '12%', height: '300px', background: 'white.align-top.text-nowrap', padding: '20px'})
      

    //hr color = "red"
    block externalScripts
      script(src='/js/vendor/console-shim.js') // prevent console errors in old browsers
      // Modernizr
      script(src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js")
      // jQuery 2.2.4 (use whatever version you want)
      script(src='//ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js')
      // Local Load Scripts
      //
        script(src='/js/vendor/modernizr-2.6.2.min.js')
        script(src='/js/vendor/jquery-2.2.4.min.js')
    block localScripts
      script(src='/js/main.js')
    // Suggestions
    // Google Analytics
    // Facebook Pixel Code
    // Amplitude OR other analytics platform
    // Clicky, Mixpanel, Hotjar, etc.
    // Mailchimp
    // Stripe

